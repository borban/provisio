<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/WEB-INF/templates/provisio-template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	<ui:define name="title">Provisio - Loyalty Tracking</ui:define>

	<ui:define name="content">
		<link rel="stylesheet" href="css/loyaltytracking.css" />

		<div class="container-wide">
			<h1 class="heading">Loyalty Points Tracking</h1>

			<p class="text-center">
				<strong>Congratulations, you have reached
					#{loginBean.getMemberStatus()} Status</strong>
			</p>
			<br />

			<div class="loyalty-first-row">
				<div class="border p-20">
					<h3 class="text-center">
						<strong>#{loginBean.customer.totalLoyaltyPoints} pts</strong>
					</h3>
					<br /> <br />
					
						<h:form>
                                                    <div class="button-group">
							<h:commandLink action="#{loginBean.login}" class="button">Redeem Points</h:commandLink>
							<h:commandLink action="#{loginBean.login}" class="button">Buy Points</h:commandLink>
                                                    </div>
                                                </h:form>
					
				</div>

				<div class="border p-20">
					<ul class="text-center">
						<li><strong>Customer name:
								#{loginBean.customer.firstName} #{loginBean.customer.lastName}</strong></li>
						<li>Customer ID: #{loginBean.customer.customerId}</li>
						<li><strong>#{loginBean.getMemberStatus()} Status</strong></li>
					</ul>

					<ul class="bullets">
						<li>50% point bonus</li>
						<li>Early check-in/Late check-out</li>
						<li>Reserved parking</li>
					</ul>

				</div>
			</div>

			<div class="loyalty-second-row">
				<div class="text-center border p-20">
					<p>
						<strong>Ways to Redeem your points</strong>
					</p>

					<br />

					<ul>
						<li>Points for Gas</li>
						<li>Redeem for free nights</li>
						<li>Buy Gift Cards</li>
						<li>Points for miles</li>
					</ul>
				</div>

				<div>
					<p class="text-center">
						<strong>Reservation summary</strong>
					</p>
					<h:form>
						<h:dataTable value="#{loyaltyBean.customerReservations}"
							var="reservation"
							class="table table-striped table-hover table-bordered">

							<h:column>
								<f:facet name="header">
									<h:outputText value="Reservation ID" />
								</f:facet>
								<h:outputText value="#{reservation.reservationId} " />

							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Location" />
								</f:facet>
								<h:outputText
									value="#{loyaltyBean.findLocation(reservation.hotelCode)}" />

							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Check in Date" />
								</f:facet>
								<h:outputText value="#{reservation.checkInDate}" />

							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Check out Date" />
								</f:facet>
								<h:outputText value="#{reservation.checkOutDate}" />

							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="No of Nights" />
								</f:facet>
								<h:outputText value="#{reservation.numberOfNights}" />

							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Loyalty Points Earned" />
								</f:facet>
								<h:outputText value="#{reservation.loyaltyPointsEarned}" />
							</h:column>
						</h:dataTable>
					</h:form>
					<p>*Limit of five records. <a href="reservation-lookup.xhtml">Reservation Lookup</a></p>
				</div>
			</div>
		</div>
	</ui:define>
</ui:composition>
